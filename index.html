<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Jogo da Forca</title>
<style>
  body {
    background: #7b3fbf;
    color: #b57de0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    height: 100vh;
    margin: 0;
    padding: 20px;
    user-select: none;
  }
  h1 {
    margin-bottom: 10px;
  }
  #hint { /* Estilo para a dica */
    font-size: 1.2rem;
    color: #c9a3e8;
    margin-bottom: 20px;
    text-align: center;
    max-width: 80%;
  }
  #word {
    font-size: 2.5rem;
    letter-spacing: 10px;
    margin: 30px 0;
    word-break: break-word;
  }
  #wrong-letters {
    margin: 15px 0;
    font-size: 1.2rem;
  }
  #notification {
    color: #bfa0e2;
    font-weight: bold;
    height: 1.5rem;
  }
  #popup {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background-color: rgba(123, 63, 191, 0.9);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 1.5rem;
    visibility: hidden;
  }
  #popup.show {
    visibility: visible;
  }
  #popup button {
    margin-top: 15px;
    background-color: #a67de0;
    border: none;
    padding: 10px 20px;
    color: #302834;
    font-weight: bold;
    cursor: pointer;
    border-radius: 5px;
    font-size: 1rem;
    transition: background-color 0.3s ease;
  }
  #popup button:hover {
    background-color: #7b3fbf;
  }
  #hangman-draw {
    margin-top: 20px;
    width: 150px;
    height: 200px;
  }
  /* Espa√ßamento para as letras na palavra */
  #word span {
    border-bottom: 2px solid #b57de0;
    display: inline-block;
    width: 30px;
    text-align: center;
  }
</style>
</head>
<body>

<h1>Jogo da Forca</h1>

<div id="hint"></div>

<div id="word"></div>
<div id="wrong-letters"><strong>Letras erradas:</strong> <span id="wrong-letters-list"></span></div>
<div id="notification"></div>

<svg id="hangman-draw" height="200" width="150">
  <line x1="10" y1="190" x2="140" y2="190" stroke="#a67de0" stroke-width="4"/>
  <line x1="40" y1="190" x2="40" y2="20" stroke="#a67de0" stroke-width="4"/>
  <line x1="40" y1="20" x2="100" y2="20" stroke="#a67de0" stroke-width="4"/>
  <line x1="100" y1="20" x2="100" y2="40" stroke="#a67de0" stroke-width="4"/>
  <circle id="head" cx="100" cy="55" r="15" stroke="#a67de0" stroke-width="4" fill="none" visibility="hidden"/>
  <line id="body" x1="100" y1="70" x2="100" y2="120" stroke="#a67de0" stroke-width="4" visibility="hidden"/>
  <line id="left-arm" x1="100" y1="80" x2="70" y2="100" stroke="#a67de0" stroke-width="4" visibility="hidden"/>
  <line id="right-arm" x1="100" y1="80" x2="130" y2="100" stroke="#a67de0" stroke-width="4" visibility="hidden"/>
  <line id="left-leg" x1="100" y1="120" x2="70" y2="160" stroke="#a67de0" stroke-width="4" visibility="hidden"/>
  <line id="right-leg" x1="100" y1="120" x2="130" y2="160" stroke="#a67de0" stroke-width="4" visibility="hidden"/>
</svg>

<div id="popup">
  <p id="final-message"></p>
  <button id="play-button">Jogar novamente</button>
</div>

<script>
  const wordEl = document.getElementById('word');
  const wrongLettersEl = document.getElementById('wrong-letters-list');
  const notification = document.getElementById('notification');
  const popup = document.getElementById('popup');
  const finalMessage = document.getElementById('final-message');
  const playBtn = document.getElementById('play-button');
  const hintEl = document.getElementById('hint');

  const hangmanParts = [
    document.getElementById('head'),
    document.getElementById('body'),
    document.getElementById('left-arm'),
    document.getElementById('right-arm'),
    document.getElementById('left-leg'),
    document.getElementById('right-leg')
  ];

  // Lista de palavras com dicas
  const words = [
    { palavra: 'casa', dica: 'Um lugar para morar.' },
    { palavra: 'bola', dica: 'Objeto usado em v√°rios esportes.' },
    { palavra: 'azul', dica: 'Uma cor prim√°ria, como a do c√©u.' },
    { palavra: 'livro', dica: '√â feito de p√°ginas e cont√©m hist√≥rias.' },
    { palavra: 'trem', dica: 'Meio de transporte que anda sobre trilhos.' },
    { palavra: 'computador', dica: 'Aparelho eletr√¥nico que processa informa√ß√µes.' },
    { palavra: 'celular', dica: 'Dispositivo m√≥vel para fazer liga√ß√µes.' },
    { palavra: 'bicicleta', dica: 'Ve√≠culo de duas rodas que se move com pedais.' },
    { palavra: 'oftalmologista', dica: 'M√©dico que cuida da sa√∫de dos olhos.' },
    { palavra: 'inconstitucional', dica: 'Algo que vai contra a lei m√°xima de um pa√≠s.' },
    { palavra: 'paralelep√≠pedo', dica: 'Bloco de concreto usado em pavimenta√ß√£o.' },
    { palavra: 'ornitorrinco', dica: 'Mam√≠fero aqu√°tico com bico de pato.' },
    { palavra: 'hipop√≥tamo', dica: 'Grande mam√≠fero africano que vive na √°gua.' },
  ];

  let selectedWord = '';
  let selectedHint = '';
  let correctLetters = [];
  let wrongLetters = [];

  // Mostra a palavra com letras corretas e sublinhados para as letras faltantes
  function displayWord() {
    wordEl.innerHTML = selectedWord
      .split('')
      .map(letter => `
        <span>${correctLetters.includes(letter) ? letter : '_'}</span>
      `)
      .join(' ');

    const innerWord = wordEl.textContent.replace(/\s/g, '');

    if(innerWord === selectedWord) {
      finalMessage.innerText = 'Parab√©ns! Voc√™ venceu! üéâ';
      popup.classList.add('show');
    }
  }

  // Atualiza as letras erradas e desenha as partes do boneco
  function updateWrongLetters() {
    wrongLettersEl.textContent = wrongLetters.join(', ');

    hangmanParts.forEach((part, index) => {
      part.style.visibility = index < wrongLetters.length ? 'visible' : 'hidden';
    });

    if(wrongLetters.length === hangmanParts.length) {
      finalMessage.innerText = `Fim de jogo! A palavra era: "${selectedWord}".`;
      popup.classList.add('show');
    }
  }

  // Mostra notifica√ß√£o se a letra j√° foi usada
  function showNotification() {
    notification.innerText = 'Voc√™ j√° tentou essa letra!';
    setTimeout(() => {
      notification.innerText = '';
    }, 1500);
  }

  // Come√ßa o jogo, seleciona palavra e reseta vari√°veis
  function startGame() {
    const selectedObj = words[Math.floor(Math.random() * words.length)];
    selectedWord = selectedObj.palavra;
    selectedHint = selectedObj.dica;
    hintEl.innerText = 'Dica: ' + selectedHint;

    correctLetters = [];
    wrongLetters = [];

    popup.classList.remove('show');
    updateWrongLetters();
    displayWord();
  }

  // Evento para capturar as teclas digitadas
  window.addEventListener('keydown', e => {
    const letter = e.key.toLowerCase();
    // Verifica se √© uma letra de a-z
    if(letter.length === 1 && letter.match(/[a-z]/)) {
      if(selectedWord.includes(letter)) {
        if(!correctLetters.includes(letter)) {
          correctLetters.push(letter);
          displayWord();
        } else {
          showNotification();
        }
      } else {
        if(!wrongLetters.includes(letter)) {
          wrongLetters.push(letter);
          updateWrongLetters();
        } else {
          showNotification();
        }
      }
    }
  });

  // Bot√£o para reiniciar o jogo
  playBtn.addEventListener('click', startGame);

  // Iniciar o jogo na carga da p√°gina
  startGame();
</script>

</body>
</html>
